@{
    Layout = "_LayoutDettagli";
}

@model Libro




<body>
    <main id="main">
    </main>
</body>



@section Scripts {
    <script type="text/javascript">

        const id = window.location.href.substring(window.location.href.lastIndexOf('/') + 1);
        axios.get(`/api/Apiamministrazione/${id}`).then((res) => {
            let libro = res.data;
            console.log('libro trovato', libro);
            document.getElementById("main").innerHTML +=
                `
                                <article class="product">
                <picture class="product__img">
                    <source srcset="" media="(min-width:800px)" />
                        <img src="${libro.foto}" alt="foto" />
                </picture>
                <div class="product__content">


                        <p class="product__genere">${libro.genere.nome}</p>

                        <h1 class="product__title">${libro.titolo}</h1>

                   <p> ${libro.trama}</p>
                        <div class="flex-group">
                        <p class="product__price">${libro.prezzo} €</p>
                        </div>
                        <button class="button text-center">Compra ora</button>
                        <p>${libro.like}</p>
                    </div>

                </article>
                                        `;
        }
        )

    </script>
}
