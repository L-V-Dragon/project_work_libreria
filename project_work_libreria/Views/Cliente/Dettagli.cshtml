@{
    Layout = "_LayoutDettagli";
}

@model Libro

@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager


<body>
    <main id="main">
    </main>

</body>




@section Scripts {
    <script type="text/javascript">
        const id = window.location.href.substring(window.location.href.lastIndexOf('/') + 1);
        axios.get(`/api/Apiamministrazione/${id}`).then((res) => {
            let libro = res.data;
            console.log('libro trovato', libro);
            document.getElementById("main").innerHTML +=
                `
                                <article class="product">
                <picture class="product__img">
                    <source srcset="" media="(min-width:800px)" />
                        <img src="${libro.foto}" alt="foto" />
                </picture>
                <div class="product__content">


                        <p class="product__genere">${libro.genere.nome}</p>

                        <h1 class="product__title">${libro.titolo}</h1>

                   <p> ${libro.trama}</p>
                        <div class="flex-group">
                        <p class="product__price">${libro.prezzo} €</p>
                                                <div class="stage col-4 m-0">
                <div class="heart"></div>
                </div>
                        <span id="like" class="myLikes">Likes: ${libro.like}</span>
                        </div>
                        <button class="button text-center">Compra ora</button>
                  </div>

                </article>
                                        `;
                })
        
    </script>

}
