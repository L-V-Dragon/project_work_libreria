@model ClienteView

<body class="p-3 m-0 border-0 bd-example">

    <!-- Example Code -->
    <form asp-controller="Cliente" asp-action="Ordine" method="post">
    <div class=" container ">
        <div class="row">
            <div class="mb-3">
                
                <h2>Il tuo ordine</h2>
            </div>
              <input asp-for="Libro.Isbn" type="hidden" value="@Model.Libro.Isbn" class="form-control">
              <input asp-for="Libro.Foto"  type="hidden" value="@Model.Libro.Foto" class="form-control">
              <input asp-for="Libro.Trama"  type="hidden" value="@Model.Libro.Trama" class="form-control">
              <input asp-for="Libro.Id"  type="hidden" value="@Model.Libro.Id" class="form-control">
              <input asp-for="Libro.Autore"  type="hidden" value="@Model.Libro.Autore" class="form-control">
              <input asp-for="Libro.Titolo"  type="hidden" value="@Model.Libro.Titolo" class="form-control">

            <input asp-for="Libro.Quantita" id="QuantitaMagazzino" type="hidden" value="@Model.Libro.Quantita" class="form-control">
            
            <!-- Contenitore immg e dettagli ordine -->
            <div class="container col border border-light mx-3" style="height: fit-content;">
                <div style="max-width: 700px;">
                    <div class="row ">
                        <!-- ----------- Immagine -------------> 
                        <div class="col ">
                            <img src="@Model.Libro.Foto" class=" mt-3" width="90" height="120" alt="img libro">
                            
                             
                        </div>
                        <!-- ----------Fine immagine ----------->
                        <!-- -------------- Contenitore dettagli ordine ------------------ -->
                        <div class="col-md-8">
                            <div class="card-body ">
                                <div class="row">
                                    <div class="col mb-2 "> <p class="text-muted mb-2 p-0" style="text-align:start">Libro</p></div>

                                </div>
                                <div class="row">
                                    <h5 class="card-title mx-0 " style="text-align:start "> <b>@Model.Libro.Titolo</b> </h5>
                                    <h5 class="card-title col " style="text-align:start">@Model.Libro.Autore</h5>
                                    <div class="col"></div>
                                    <div class="col-2"> <span id="PrezzoLibro">@Model.Libro.Prezzo </span> €</div>
                                </div>
                                <div class="row ">
                                    <p class="card-text col" style="text-align:start">
                                        <small id="disponibilita" class="text-success">
                                            <svg id="iconaDisponibilita" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill text-success" viewBox="0 0 16 16">
                                                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" />
                                            </svg> Disp.immediata
                                             <div class="col"></div>
                                        </small>
                                    </p>
                                    <div class="button col">
                                  <div class="row">
                                             <div class="col text-success" id="QuantitaDisp">Quantità Disponibile: @Model.Libro.Quantita</div>
                                            <!--Se vogliamo aggiungere la possibilità di comprare piu di un libro e poterlo cancellare-->
                                            <!--  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash col" viewBox="0 0 16 16">
                                                <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z" />
                                                <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" />
                                            </svg> -->
                                           <div class="form-group col">
                                                <input asp-for="OrdineCliente.Quantita" id="QuantitaLibri" class="form-control" type="number" placeholder="Quantità" min="1" aria-label="default input example">
                                            </div>
                                            

                                        </div>
                                    </div>
                                </div>

                                <div>
                                </div>

                            </div>
                            <!-- --------------------Fine-------------------- -->

                        </div>
                    </div>
                </div>

                <!-- ----------Riepilogo ordine ------------------->

            </div>
            <div class="card col-2" style="width: 24rem;">
                <div class="card-body">
                    <h6 class="card-subtitle mb-2 text-muted">Riepilogo ordine</h6>

                    <table class="table table-borderless">
                        <thead>
                            <tr>
                                <th scope="col">Subtotale()</th>
                                <th scope="col">
                                    <span id="TotaleParziale">@Model.Libro.Prezzo </span>€
                                </th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr>

                                <td>Spese di spedizione</td>
                                <td>3,50 €</td>

                            </tr>
                            <tr>

                                <td>Sconto spese di spedizione</td>
                                <td>-3,50 €</td>

                            </tr>
                            <tr>
                                <th scope="col">Totale</th>
                                <th scope="col"> <span id="Totale">@Model.Libro.Prezzo </span>€ </th>

                            </tr>
                        </tbody>
                    </table>
                    
                    <button type="submit" id="BottoneCompra" class="btn btn-info btn-lg  ">
                        <span class="glyphicon glyphicon-tag"></span> Ordina
                    </button>
                    

                </div>
            </div
            
        </div>
    </div>
    <!---------------- -->
    </form>






<div mb-5>
    <a asp-action="Index">Back to List</a>
</div>



    @section Scripts{
        <script type="text/javascript">

            document.getElementById("QuantitaLibri").addEventListener("input", aggiornaPrezzo);


        </script>
    }

</body>